:root { --bg-body: #09090b; --bg-sidebar: rgba(24,24,27,0.75); --bg-chat: rgba(32,32,36,0.85); --accent: #ff9f1c; --accent-glow: rgba(255,159,28,0.4); --text-main: #fff; --grid-color: rgba(255,255,255,0.03); --success: #22c55e; }
[data-theme="blue"] { --accent: #00a8ff; } [data-theme="purple"] { --accent: #d946ef; } [data-theme="green"] { --accent: #4ade80; }

* { margin:0; padding:0; box-sizing:border-box; font-family:'Inter',sans-serif; }
body { background: var(--bg-body); background-image: linear-gradient(var(--grid-color) 1px, transparent 1px), linear-gradient(90deg, var(--grid-color) 1px, transparent 1px); background-size: 40px 40px; color: var(--text-main); height: 100vh; overflow: hidden; }

/* КОРРЕКТНЫЕ АВАТАРКИ */
.avatar, .avatar-big, .msg-avatar { border-radius: 50%; overflow: hidden; display: flex; align-items: center; justify-content: center; background: #27272a; flex-shrink: 0; }
.avatar img, .avatar-big img, .msg-avatar img { width: 100%; height: 100%; object-fit: cover; display: block; }

/* КОРРЕКТНЫЕ БАННЕРЫ */
.profile-banner { width: 100%; height: 130px; background-size: cover; background-position: center; background-repeat: no-repeat; position: relative; background-color: var(--accent-glow); }

.hidden { display: none !important; }
.auth-wrapper { position: fixed; inset: 0; display: flex; align-items: center; justify-content: center; z-index: 100; }
.auth-card { background: rgba(20,20,25,0.9); padding: 40px; border-radius: 24px; width: 400px; text-align: center; border: 1px solid rgba(255,255,255,0.1); backdrop-filter: blur(10px); }
.btn { padding: 12px; border-radius: 12px; border: none; cursor: pointer; font-weight: 600; transition: 0.2s; }
.btn-primary { background: var(--accent); color: #000; }
.sidebar { width: 320px; border-right: 1px solid rgba(255,255,255,0.05); display: flex; flex-direction: column; background: var(--bg-sidebar); backdrop-filter: blur(10px); }
.chat-area { flex: 1; display: flex; flex-direction: column; }
#messages-container { flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; gap: 10px; }
.msg-row { display: flex; align-items: flex-end; gap: 10px; }
.msg { padding: 10px 16px; border-radius: 18px; max-width: 70%; line-height: 1.4; }
.msg.in { background: rgba(255,255,255,0.05); }
.msg.out { align-self: flex-end; background: var(--accent); color: #000; font-weight: 500; }
.input-bar { padding: 20px; display: flex; gap: 10px; align-items: center; background: rgba(0,0,0,0.2); }
textarea { flex: 1; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); color: #fff; padding: 10px; border-radius: 10px; resize: none; }
.modal-bg { position: fixed; inset:0; background: rgba(0,0,0,0.8); display: none; align-items: center; justify-content: center; z-index: 200; }
.modal-bg.active { display: flex; }
.modal-panel { background: #18181b; width: 400px; border-radius: 20px; overflow: hidden; padding-bottom: 20px; }
